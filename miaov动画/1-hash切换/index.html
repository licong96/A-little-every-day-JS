<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>利用hash值切换</title>
    <style>
      * {
        margin: 0;
        padding: 0;
      }
      .li {
        float: left;
        margin: 20px;
        color: green;
        list-style: none;
        cursor: pointer;
      }
      .div {
        margin: 20px;
        display: none;
      }
    </style>
  </head>
  <body>
    <nav>
      <ul>
        <li class="li" data-hash="home">首页</li>
        <li class="li" data-hash="student">学员</li>
        <li class="li" data-hash="message">留言</li>
      </ul>
    </nav>
    <br><br>
    <section class="content">
      <div class="div" data-hash="home">首页的内容</div>
      <div class="div" data-hash="student">学员的内容</div>
      <div class="div" data-hash="message">留言的内容</div>
    </section>

    <script type="text/javascript">
      var aA = document.getElementsByClassName('li');
      var aDiv = document.getElementsByClassName('div');

      for (var i = 0; i< aA.length; i++) {
        aA[i].onclick = function () {
          var hash = this.dataset.hash;      // 获取事件hash

          window.location.hash = hash;

          for (var i = 0; i < aDiv.length; i++) {
            aDiv[i].style.display = 'none';
            if (hash === aDiv[i].dataset.hash) {
              aDiv[i].style.display = 'block'
            }
          }
        }
      }

      // hash改变事件
      window.onhashchange = function () {
        window.location.reload()
      }

      // 刚进入页面就获取hash
      var initHash = window.location.hash.substring(1) || 'home';    // substring 去掉第一个字符 ‘#’

      for (var i = 0; i < aDiv.length; i++) {
        if (initHash === aDiv[i].dataset.hash) {
          aDiv[i].style.display = 'block'
        }
      }
    </script>
  </body>
</html>
