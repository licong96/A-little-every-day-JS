## fis-prepackager-js-i18n

### 介绍

提供JS国际化语言翻译支持

### 使用

> fis.config.set('modules.prepackager', 'js-i18n');

如果你用的是`fis-plus`:

> fis.config.set('modules.prepackager', fis.config.get('modules.prepackager') + ', js-i18n');

### 实现

识别JavaScript中国际化编译函数`__()`，将其替换数据中心`F.context`方式；

如:

    var a = __('百度');

产出结果:

    var a = F.context('a3f4a5b'); //a3f4a5b 为 "百度" 的md5前7位

并且把这些翻译项，产出一个widget `translate.tpl`，在模板渲染的时候渲染到页面；

    <script type="text/javascript">
        F.context({
            'a3f4a5b': '{%__("百度")%}'
        });
    </script>

这样，当页面渲染时，在head关闭标签之前，渲染`translate.tpl`，这样所有的数据就被定义好了；
到执行JavaScript的时候获取这些数据。

为什么这么做呢？

> 语言翻译统一在PHP（后端）层面处理。
